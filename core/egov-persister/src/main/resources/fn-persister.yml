serviceMaps:
 serviceName: fn-services
 mappings:
 - version: 1.0
   description: Persists fireNOC details in EG_FN_FireNOC  table
   fromTopic: save-fn-firenoc
   isTransaction: true
   queryMaps:

       - query: INSERT INTO eg_fn_firenoc(uuid, tenantid, firenocnumber, provisionfirenocnumber, oldfirenocnumber, dateofapplied, createdby, lastmodifiedby, createdtime, lastmodifiedtime) VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: FireNOCs.*
         jsonMaps:
          - jsonPath: $.FireNOCs.*.id

          - jsonPath: $.FireNOCs.*.tenantId

          - jsonPath: $.FireNOCs.*.firenocnumber

          - jsonPath: $.FireNOCs.*.provisionfirenocnumber

          - jsonPath: $.FireNOCs.*.oldfirenocnumber

          - jsonPath: $.FireNOCs.*.dateofapplied

          - jsonPath: $.FireNOCs.*.auditDetails.createdBy

          - jsonPath: $.FireNOCs.*.auditDetails.lastModifiedBy

          - jsonPath: $.FireNOCs.*.auditDetails.createdTime

          - jsonPath: $.FireNOCs.*.auditDetails.lastModifiedTime



       - query: INSERT INTO eg_fn_firenocdetail(uuid, firenocuuid, applicationnumber, firenoctype, firestationid, applicationdate, financialyear, issueddate, validfrom, validto, action, channel, noofbuildings, tenantid, additionaldetail, createdby, lastmodifiedby, createdtime, lastmodifiedtime, propertyid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
         basePath: FireNOCs.*.fireNOCDetails
         jsonMaps:
          - jsonPath: $.FireNOCs.*.fireNOCDetails.id

          - jsonPath: $.FireNOCs.*.id

          - jsonPath: $.FireNOCs.*.fireNOCDetails.applicationNumber

          - jsonPath: $.FireNOCs.*.fireNOCDetails.fireNOCType

          - jsonPath: $.FireNOCs.*.fireNOCDetails.firestationId

          - jsonPath: $.FireNOCs.*.fireNOCDetails.applicationDate

          - jsonPath: $.FireNOCs.*.fireNOCDetails.financialYear

          - jsonPath: $.FireNOCs.*.fireNOCDetails.issuedDate

          - jsonPath: $.FireNOCs.*.fireNOCDetails.validFrom

          - jsonPath: $.FireNOCs.*.fireNOCDetails.validTo

          - jsonPath: $.FireNOCs.*.fireNOCDetails.action

          - jsonPath: $.FireNOCs.*.fireNOCDetails.channel

          - jsonPath: $.FireNOCs.*.fireNOCDetails.noOfBuildings

          - jsonPath: $.FireNOCs.*.fireNOCDetails.tenantId

          - jsonPath: $.FireNOCs.*.fireNOCDetails.additionalDetail
            type: JSON
            dbType: JSONB

          - jsonPath: $.FireNOCs.*.auditDetails.createdBy

          - jsonPath: $.FireNOCs.*.auditDetails.lastModifiedBy

          - jsonPath: $.FireNOCs.*.auditDetails.createdTime

          - jsonPath: $.FireNOCs.*.auditDetails.lastModifiedTime

          - jsonPath: $.FireNOCs.*.fireNOCDetails.propertyDetails.propertyid


       